spring.application.name=game-recommender-ai

# Server configuration
server.port=8080

# gRPC Configuration
grpc.ai-service.host=${GRPC_AI_SERVICE_HOST:localhost}
grpc.ai-service.port=${GRPC_AI_SERVICE_PORT:9090}

# gRPC Client Configuration (Spring Boot Starters)
grpc.client.ai-service.address=${grpc.ai-service.host}:${grpc.ai-service.port}
grpc.client.ai-service.negotiationType=plaintext
grpc.client.ai-service.maxInboundMessageSize=1048576

# Swagger/OpenAPI Configuration
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true
springdoc.swagger-ui.disable-swagger-default-url=true

# Spring Boot Actuator Configuration
management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,configprops
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.info.env.enabled=true
management.info.git.enabled=true

# Custom health indicators
management.health.defaults.enabled=true
management.health.diskspace.enabled=true
management.health.db.enabled=true

# Metrics configuration
management.simple.metrics.export.enabled=true
management.metrics.tags.application=${spring.application.name}

# Prometheus configuration
management.prometheus.metrics.export.enabled=true

# Logging
logging.level.ru.perevalov.gamerecommenderai=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.io.grpc=DEBUG

logging.level.io.grpc.internal.ManagedChannelImplBuilder=ERROR
logging.level.io.grpc.internal=ERROR
logging.level.io.grpc.ManagedChannelRegistry=ERROR
logging.level.io.grpc.netty.shaded.io.grpc.netty.Utils=WARN

# Убирает сообщение про ContextStorageOverride
logging.level.io.grpc.Context=ERROR

# Урезаем подробный DEBUG от netty (shaded)
logging.level.io.grpc.netty.shaded.io.grpc.netty=INFO
